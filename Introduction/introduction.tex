%!TEX root = ../thesis.tex
%*******************************************************************************
%*********************************** Introduction ******************************
%*******************************************************************************

\chapter*{Introducción \markboth{Introduction}{}}

La gestión de procesos de negocio (BPM, Business Process Management) es una metodología que busca controlar, analizar y mejorar los procesos organizacionales mediante técnicas, métodos y herramientas de software. Estas herramientas de software permiten obtener múltiples abstracciones de los procesos organizacionales, mediante la definición de flujos de trabajo o workflows [1]. Cada instancia de estos workflows se denomina un ítem de trabajo o workitem, y generalmente para cada uno de estos se registra un gran número de sucesos de eventos, los cuales pueden ser almacenados en una base de datos o en un archivo plano. El objetivo de estas herramientas de software es controlar los procesos organizacionales o de negocio, al igual que mejorar su eficiencia.

En un proceso de negocio, un error o falla puede darse debido a un comportamiento anómalo en el proceso, es decir, cuando se presenta una secuencia de sucesos de eventos no esperada. Estos comportamientos pueden darse a nivel del proceso de negocio o de la plataforma, y podrían ser inferidos desde las secuencias de sucesos de eventos registradas. Comportamiento presentados en los workitems como una bifurcación no esperada dentro del proceso, la permanencia prolongada en determinado paso del proceso cuando generalmente no es así, una respuesta incorrecta o no esperada al avanzar un workitem en un paso específico, la asignación de un workitem a un usuario cuando este tipo de asignaciones no deberían ser realizadas, el inicio de un workitem por un usuario que no debería hacerlo, la finalización de un workitem padre sin que sus workitems hijos hayan finalizado, entre otros, se consideran errores o fallas del proceso de negocio. Por otro lado, errores como lentitud entre los componentes de la plataforma, respuestas de error por parte de webservices externos, fallos al ejecutar procedimientos almacenados a nivel de base de datos, errores de claves duplicadas en base de datos, privilegios insuficientes al momento de modificar un objeto dentro de la plataforma, entre otros, se consideran errores de la plataforma BPM. Estos comportamientos se dan debido a una mala gestión de los usuarios del sistema dentro del proceso, o a problemas tecnológicos.

Al implementar soluciones sobre la metodología BPM, surgen varias dificultades:

1. El diseño de workflows puede ser un proceso complejo que consume mucho tiempo, y requiere de un conocimiento específico del proceso de negocio. Al finalizar este proceso, generalmente existen diferencias entre el workflow diseñado y el proceso real, lo que implica ajustar nuevamente la definición de los workflows [2]. Estas inconsistencias no siempre son fáciles de identificar, y frecuentemente se evidencian cuando la solución se encuentra en un ambiente productivo.

2. En los sistemas BPM es usual que exista un número elevado de ítems de trabajo, como consecuencia se generan grandes volúmenes de información correspondiente al proceso de negocio y a los sucesos de eventos. Esto hace que identificar y corregir flujos que han presentado un comportamiento anómalo, ya sea a nivel de proceso de negocio o de la herramienta de software usada, sea una tarea difícil e ineficiente.

3. Por otro lado, los sucesos de eventos pueden ser almacenados de una forma no estructurada o de manera incompleta, esto sumado con la gran cantidad de información generada hace que su análisis sea complejo, y no permite identificar fácilmente ciertos patrones de comportamiento que pueden ser relevantes para detectar problemas, o mejorar los procesos de negocio.

4. Las herramientas de software que adoptan la metodología BPM generalmente se enfocan en analizar solamente la información de los proceso de negocio, dejando de lado la información relacionada con los sucesos de eventos presentados en los ítems de trabajo, sin embargo dicha información puede ser bastante útil. Por ejemplo, permite ajustar en una mejor medida los workflows definidos a la realidad del proceso [2]. Adicionalmente, el análisis de los sucesos de eventos podría ayudar en la caracterización y predicción de comportamientos anómalos que puedan presentarse en el proceso de negocio.

En este contexto, la minería de procesos surge como una alternativa técnica que permite resolver las dificultades mencionadas anteriormente. Ésta se encarga de buscar modelos que permitan identificar realmente cómo trabajan las personas sobre los procesos de negocio [2], al igual que describir su comportamiento, rediseñarlos y mejorarlos continuamente [3]. Las técnicas propuestas por la minería de procesos buscan extraer información no trivial de los sucesos de eventos registrados por el sistema, y a partir de ésta, construir modelos utilizando técnicas de aprendizaje automático, lo que hace posible identificar patrones de comportamiento en los diferentes procesos de negocio [3,4]. Esta es una herramienta útil debido a que en la actualidad los procesos de negocio son cada vez más complejos y difíciles de entender, haciendo que para muchas organizaciones sea de interés realizar predicciones del comportamiento de sus procesos, particularmente los que están implementados sobre sistemas BPM o WFM (Workflow Management) [5].

Las técnicas de modelado usadas por la minería de procesos, y la estructura con que los sucesos de eventos son almacenados en el sistema, frecuentemente se enfocan en identificar solamente comportamientos relacionados con el tiempo de completitud de los ítems de trabajo o con los costos que esto implica, dejando de lado los ítems de trabajo que se encuentran en un estado de error o que podrían estarlo [4]. Sin embargo, en la actualidad existe el interés de contar con modelos que permitan realizar predicciones sobre el comportamiento y los estados finales que presentarán los diferentes ítems de trabajos activos en el proceso de negocio [6]. Las técnicas actuales utilizadas en la minería de procesos, podrían ser extendidas para monitorear el comportamiento de los procesos de negocio, enfocándose específicamente en las secuencias de eventos temporales, lo cual sería de mucha utilidad al momento de realizar predicciones, particularmente identificando workitems que terminaran en un estado de error [7]. Este tipo de predicciones permitiría contar con sistemas que sean tolerantes a comportamientos indeseados o anómalos, y que apliquen acciones correctivas automáticamente al presentarse este tipo de comportamiento o por lo menos notifique la probabilidad de su ocurrencia [8,9].

Un aspecto importante de los procesos de negocio actuales es que presentan un alto grado de variabilidad y comportamientos muy específicos [10]. Por tal motivo no es válido suponer que los procesos siempre siguen una secuencia de estados de manera regular, o que no varían en el tiempo. Por tal motivo las técnicas convencionales no siempre son útiles para analizar procesos de carácter dinámico, y tampoco cuentan con métricas que permitan evaluar la calidad del modelo obtenido respecto a la realidad [11].

En la minería de procesos es común el uso de modelos probabilísticos debido a la flexibilidad que estos ofrecen [12], por ejemplo modelos como el de estados ocultos de Markov (HMM, Hidden Markov Model) son frecuentemente usados debido a la capacidad que han mostrado para resolver múltiples problemas en los que la información a analizar corresponde a secuencias temporales [12]. Estos se ajustan adecuadamente a datos históricos, al igual que a los cambios presentados en los procesos de negocio a lo largo del tiempo [11].

Los HMMs son comúnmente definidos como una cadena de Markov homogénea de estados finitos con tiempos discretos, observados a partir de un conjunto finito de densidades de transiciones, indexadas por los estados de una cadena de Markov [8]. Esta es una técnica que puede lidiar bastante bien con el ruido de los datos e información incompleta, y ha sido ampliamente usada en diferentes tareas de reconocimiento, principalmente asociadas a secuencias de datos como es el caso de los procesos BPM [5]. Sin embargo, los HMMs estándar no tienen en cuenta el tiempo que los ítems de trabajo consumen en cada uno de los estados del proceso, o lo que es igual, en las secuencias de eventos, lo que limita su capacidad para identificar errores en el proceso asociados a ítems de trabajo que se quedan estancados en un estado del proceso por tiempos fuera de lo normal [13]. Por otro lado, al modelar los sucesos de eventos puede ocurrir que se pierda información en intervalos de tiempo, o pueden existir múltiples secuencias de observaciones que no están sincronizadas entre sí, es decir que los tiempos no corresponden entre ellas, lo que implica que se pueden tener diferentes distribuciones de emisión para la misma secuencia de estados [14]. Ante estos inconvenientes surge una variación de HMM, que permite detectar secuencias específicas a partir del análisis de los sucesos de eventos registrados por el sistema, y tiene en cuenta su tiempo de ocurrencia. Este modelo es el modelo de estados ocultos de semi-Markov (HSMM, Hidden Semi-Markov Model).

HSMM elimina las distribuciones constantes o geométricas de los tiempos de duración de cada uno de los estados del proceso que generalmente son asumidas en HMM [8]. En HSMM la duración de un estado es explícitamente definida y está dada por una variable aleatoria, lo que quiere decir que la probabilidad de duración de un estado es establecida por una función de distribución, que puede ser una función de densidad de probabilidad continua, tal como una distribución Gaussiana, de Poisson o Gamma [16]. Otra diferencia entre HMM y HSMM es que generalmente en HMM se asume una observación por estado, en cambio en HSMM se puede modelar con mayor precisión si un sólo estado emite una secuencia de observaciones [8,15].

Existe una extensión de HSMM que modela la dependencia de las probabilidades de transición en la duración de los estados, llamado modelo de estados ocultos de semi-Markov no estacionario (NHSMM, Non-stationary Hidden Semi-Markov Model) [16]. Este modelo toma en cuenta no sólo la duración explícita de un estado, sino que también selecciona la transición de acuerdo a la duración exacta, mejorando la precisión del modelo [16]. Se ha demostrado que ante tareas complejas de reconocimiento de patrones NHSMM ha presentado un mejor desempeño que HSMM [16]. En el contexto de la minería de procesos, este compartimiento cobra mucho sentido, debido a que dependiendo del tiempo que dura un ítem de trabajo en un estado específico, se puede inferir que se está presentando un comportamiento anómalo en dicho ítem de trabajo, y que podría finalizar en un estado de error. Sin embargo, NHSMM no ha sido ampliamente utilizado en la minería de procesos debido al alto costo computacional que presenta el entrenamiento del modelo.

Lo anterior no quiere decir que HMM y HSMM no presenten una complejidad computacional alta, de hecho en estos la complejidad computacional aumenta a medida que se adicionan parámetros al modelo, dicha complejidad puede aumentar de manera exponencial con respecto al número de secuencias de eventos analizados [17]. Sin embargo para HSMM y NHSMM el costo computacional es mucho mayor que HMM aún para conjuntos de datos reducidos [19].

Al momento de realizar la implementación de modelos HMM sobre un conjunto de datos dado, se usa el algoritmo Baum-Welch (BW), el cual corresponde a una implementación del algoritmo de maximización de la esperanza (expectation-maximization EM) para el caso de HMM, y el cual permite realizar el entrenamiento por lotes de los parámetros del modelo por medio de la estimación de máxima verosimilitud. Para un HMM estándar, con secuencias de longitud T y un HMM ergódico con N estados, la complejidad en términos de memoria del algoritmo BW crece linealmente con T y N, obteniendo una complejidad de orden O(NT) . Mientras que la complejidad respecto al tiempo crece cuadráticamente con N y linealmente con T, lo que implica una complejidad del orden de O(N2T). Generalmente cuando T es muy grande pueden presentarse inconvenientes a nivel de memoria, debido a que los recursos disponibles para el proceso de entrenamiento del modelo pueden ser excedidos, causando un desbordamiento de memoria en el sistema de archivos en disco [18,15].

El comportamiento anterior representa una limitante al momento de entrenar los modelos sobre cientos o miles de secuencias de observaciones con una gran longitud, las cuales son generadas actualmente en la industria del software que usa metodologías BPM o WFM. Debido a esto la implementación de estrategias en la minería de procesos que se basan en modelos como HMM, HSMM o NHSMM requieren del desarrollo de metodologías eficientes, tanto para el procesamiento de la información como para el entrenamiento de los modelos. En este trabajo se propone el desarrollo de una metodología que permita realizar el entrenamiento de los modelos HMM, HSMM y NHSMM haciendo uso del paradigma Spark, permitiendo así la utilización de dichos modelos para la predicción de comportamientos anómalos a partir de las secuencias de eventos registradas por un sistema, y que se generan en un proceso de negocio dado, siendo almacenadas en una base de datos.

%%% ----------------------------------------------------------------------